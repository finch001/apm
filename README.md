# Apm

<p align="center">
  <a href="./" target="blank"><img src="apm-manager/src/assets/apm-logo.png" alt="apm Logo" /></a>
</p>

在 web 应用中排查问题很难。那些难解的 js 错误，用户上报的 bug，还有 QA 系统里的 issue，解决这些影响用户的问题是永恒不变的斗争。这些还只是那些明显的问题，事实是大部分的 bug 从来都没有被上报，因为当用户对应用有个不好的体验时，他们将不再使用，或者忍气吞声。

为了解决这种问题，开发者们需要引入前端日志工具，使得理解 bug 和用户上报的 issues 变得容易了

# 原理

它可以让你像发生在自己的浏览器中那样重现问题。无需猜测错误发生的原因，或者要求用户截图以及日志转储，可以让你重现会话以便快速了解发生了什么错误。无需考虑框架，它适用于任何应用程序。

Apm 是一个 JavaScript SDK，通过拦截网站/应用程序中的操作（如网络请求，触摸操作和 Redux 事件）并将其发送到远程服务器来工作。

您的应用中的每个用户会话都与唯一的 Apm 标识符关联。这些用户会话可以加入到适当的 URL，以集成方式提供给开发人员。

# 能做什么

前端调试一向比较坑爹，Apm 就是解决这个问题的。具体包括：

1.修复错误

系统向您显示影响用户的最高错误，并为您提供每个错误报告的回放与日志。观看回放与日志有助于您了解用户如何触发错误。

网络请求，JavaScript 异常和代码错误都在 系统 中捕获和重放，可以检查原始 HTML / CSS 以了解和重现 UI 错误。

2.集成后端日志记录工具

在对后端错误进行分类时，可能不清楚为什么前端提出了意外的请求。系统 集成了后端日志记录和错误报告工具，以显示每个后端错误和日志条目的相应前端会话日志。

3.依靠流量并发现用户体验问题
由于 系统 记录了一切，因此可以在事实之后智能地发现问题。我们可以根据事件进行搜索和过滤，例如让我们的系统自动检测到用户感到沮丧的时刻——比如愤怒点击了按钮。

系统 可以通过一些属性（如用户电子邮件，名称，注册日期，位置，状态，持续时间，页面访问等等）来搜索和过滤会话。如果它发生在应用程序中，可以使用 系统 搜索来找到它。

# 参考资料

-   https://github.com/nestjs/nest
-   https://github.com/stbui/angular-material-app
-   http://javascript.ruanyifeng.com/dom/mutationobserver.html
-   https://github.com/rafaelw/mutation-summary
