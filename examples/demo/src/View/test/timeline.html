<div layout="row">
    <div class="timeline-progress-wrapper" layout="column" flex>
        <div class="timeline-track">
            <div class="timeline-track-hover-area"></div>

            <div draggable axis="x" enable-handle="enableTimelineHandle" disable-handle="disableTimelineHandle"
                ng-style="{'left': handleOffset + '%'}" class="timeline-progress-handle">
            </div>

            <div class="timeline-activity-wrapper">
                <div ng-repeat="block in activityBlocks"
                    ng-class="block.unknown ? 'timeline-unknown-activity' : 'timeline-activity'"
                    ng-style="block.unknown ? {left: timelineValueToPercentage(block.time) + '%', width: activityWidthInPercents(block) + '%'} : {left: timelineValueToPercentage(block.time) + '%', width: '1px'}">
                    <md-tooltip md-direction="top" ng-if="block.unknown">
                        Data not loaded
                    </md-tooltip>
                </div>
            </div>
            <div class="timeline-pause-activity-wrapper" ng-style="{'left': pauseActivityOffset + '%'}"
                ng-show="pauseActivity">
                <div class="timeline-pause-activity"></div>
                <i class="icon ion-android-arrow-dropdown timeline-pause-activity-marker"></i>
            </div>
            <div class="timeline-progress-background" ng-style="{'width': loadedTimePercentage + '%'}"></div>
            <div class="timeline-progress-bar" ng-style="{'width': renderedTimePercentage + '%'}"></div>
            <div class="timeline-buffering-animation" ng-show="value > loadedTime"></div>
            <div class="timeline-buffering-bar"></div>
        </div>
    </div>

    <div class="timeline-value" layout-align="center center" layout="column">
        <span layout="row">
            <span>{{ (draggedValue || value) | momentformat }} / {{ max | momentformat }}</span>
        </span>
    </div>
</div>